# 🎯 フリーミアムモデル実装シナリオ

> **対象**: KoeMoji-Go Web - フリーミアム戦略の詳細設計
> **最終更新**: 2025-10-12
> **ステータス**: 🟢 設計フェーズ

---

## 📋 目次

1. [概要](#-概要)
2. [ユーザージャーニー](#-ユーザージャーニー)
3. [機能の線引き](#-機能の線引き)
4. [コンバージョン戦略](#-コンバージョン戦略)
5. [実装仕様](#-実装仕様)
6. [グロースループ](#-グロースループ)
7. [シミュレーション](#-シミュレーション)
8. [A/Bテスト計画](#ab-abテスト計画)

---

## 🎯 概要

### フリーミアムモデルの定義

```
┌─────────────────────────────────────────────────────────┐
│                    フリーミアム戦略                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  🆓 Free Tier                                           │
│  └─ ユーザーが自分のOpenAI APIキーを使用                │
│  └─ 基本的な録音・文字起こし・要約機能                  │
│  └─ 機能制限あり（履歴20件、デバイス1台など）           │
│                                                         │
│  💚 Premium Tier (¥1,480/月)                            │
│  └─ APIキー不要（運営側が提供）                         │
│  └─ 月50時間までの録音                                  │
│  └─ 高度な機能・履歴無制限                              │
│                                                         │
│  💙 Pro Tier (¥3,980/月)                                │
│  └─ 月150時間までの録音                                 │
│  └─ リアルタイム文字起こし                              │
│  └─ チーム機能・外部連携                                │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 目標指標

```
📊 12ヶ月後の目標:
├─ 総ユーザー数: 10,000人
├─ 有料転換率: 15%
├─ MRR: ¥1,000,000
├─ チャーン率: 10%以下
├─ NPS: 70以上
└─ CAC/LTV: 1:3以上
```

---

## 👤 ユーザージャーニー

### シナリオ1: 個人ユーザー（田中さん）の物語

```
┌─────────────────────────────────────────────────────────┐
│ Day 0: 発見                                              │
├─────────────────────────────────────────────────────────┤
│ 📱 Twitter で KoeMoji-Go Web を発見                      │
│ 💡 「Web会議の議事録を自動化したい」                    │
│ 🔍 Chrome Web Store で検索                              │
│ ⭐ レビュー4.5★、インストール数1,000+を確認            │
│ 👆 「無料で試せるなら」とインストール                    │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│ Day 0: 初回起動（オンボーディング）                      │
├─────────────────────────────────────────────────────────┤
│ Step 1: ウェルカム画面                                   │
│ ┌───────────────────────────────────────┐              │
│ │ 🎉 KoeMoji-Go Web へようこそ！        │              │
│ │                                       │              │
│ │ あらゆる音声を自動で文字起こし・要約   │              │
│ │ Web会議・動画・ポッドキャスト対応     │              │
│ │                                       │              │
│ │ [🆓 無料で始める] [💎 Premiumを見る]  │              │
│ └───────────────────────────────────────┘              │
│                                                         │
│ Step 2: プラン選択                                       │
│ ┌───────────────────────────────────────┐              │
│ │ どのプランで始めますか？               │              │
│ │                                       │              │
│ │ 🆓 Free                                │              │
│ │ ├─ 自分のOpenAI APIキーを使用          │              │
│ │ ├─ 基本的な録音・文字起こし・要約      │              │
│ │ └─ 履歴20件まで                        │              │
│ │ [Freeで始める] ← 田中さんが選択        │              │
│ │                                       │              │
│ │ 💚 Premium (¥1,480/月)                 │              │
│ │ ├─ APIキー不要                         │              │
│ │ ├─ 月50時間まで録音                    │              │
│ │ └─ 🎁 7日間無料トライアル              │              │
│ │ [トライアルを始める]                   │              │
│ └───────────────────────────────────────┘              │
│                                                         │
│ Step 3: セットアップ（Free選択時）                      │
│ ┌───────────────────────────────────────┐              │
│ │ OpenAI APIキーを設定                   │              │
│ │                                       │              │
│ │ [sk-..._______________]               │              │
│ │                                       │              │
│ │ 💡 APIキーの取得方法                   │              │
│ │ 1. platform.openai.com にアクセス     │              │
│ │ 2. APIキーを作成                       │              │
│ │ 3. 上記に貼り付け                      │              │
│ │                                       │              │
│ │ 📊 推定コスト: 1時間 ≈ ¥36           │              │
│ │                                       │              │
│ │ [スキップ] [保存して次へ]              │              │
│ └───────────────────────────────────────┘              │
│                                                         │
│ Step 4: 録音デバイス設定                                 │
│ ┌───────────────────────────────────────┐              │
│ │ 録音デバイスを選択                     │              │
│ │                                       │              │
│ │ [BlackHole 2ch ▼]                     │              │
│ │                                       │              │
│ │ ⚠️ マイクとシステム音声を同時録音する  │              │
│ │    には仮想デバイスが必要です          │              │
│ │                                       │              │
│ │ [セットアップガイドを見る]             │              │
│ │                                       │              │
│ │ [完了]                                 │              │
│ └───────────────────────────────────────┘              │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│ Day 1-7: 初期使用（ハネムーン期間）                      │
├─────────────────────────────────────────────────────────┤
│ Day 1: 初めての録音                                      │
│ ├─ 🎙️ Google Meet で30分の会議を録音                   │
│ ├─ ✅ 文字起こし成功（95%精度）                         │
│ ├─ 📝 AI要約を確認「よくまとまってる！」               │
│ └─ 💡 「これ便利だな」                                  │
│                                                         │
│ Day 3: 継続使用                                          │
│ ├─ 🎙️ Zoom会議を録音                                   │
│ ├─ 📊 履歴が3件に                                       │
│ └─ 💭 「もっと使いたい」                                │
│                                                         │
│ Day 5: 制限に気づく                                      │
│ ├─ 📋 履歴が10件に                                      │
│ ├─ 💡 「履歴20件制限があるのか」                        │
│ └─ 🔔 アプリ内通知:                                     │
│     「💚 Premiumなら履歴無制限＋APIキー不要」           │
│                                                         │
│ Day 7: 習慣化                                            │
│ ├─ 🎙️ 毎日の朝会を録音するルーティンに                │
│ ├─ 📊 履歴15件（残り5件）                               │
│ └─ ⭐ 満足度: 高い                                      │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│ Day 14: 制限にぶつかる（コンバージョンポイント）         │
├─────────────────────────────────────────────────────────┤
│ 📊 履歴が20件に達する                                    │
│                                                         │
│ 🔔 アプリ内通知:                                         │
│ ┌───────────────────────────────────────┐              │
│ │ ⚠️ 履歴が上限に達しました                │              │
│ │                                       │              │
│ │ 古い録音から自動削除されます           │              │
│ │ 履歴を無制限で保存したいですか？       │              │
│ │                                       │              │
│ │ 💚 Premiumにアップグレード             │              │
│ │ ├─ 履歴無制限                          │              │
│ │ ├─ APIキー不要（コスト削減）           │              │
│ │ ├─ 話者識別                            │              │
│ │ └─ 🎁 7日間無料トライアル              │              │
│ │                                       │              │
│ │ [7日間無料で試す] [後で]               │              │
│ └───────────────────────────────────────┘              │
│                                                         │
│ 田中さんの心理:                                          │
│ ├─ 💭 「毎日使ってるから失いたくない」                  │
│ ├─ 💭 「APIキー不要なら手間が減る」                     │
│ ├─ 💭 「月¥1,480なら許容範囲」                          │
│ └─ 👆 「7日間無料なら試してみよう」                     │
│                                                         │
│ ✅ Premium トライアル開始                                │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│ Day 15-21: Premiumトライアル期間                         │
├─────────────────────────────────────────────────────────┤
│ Day 15: トライアル初日                                   │
│ ├─ 🎉 「Premiumへようこそ！」画面                       │
│ ├─ 🔓 全機能が解放                                      │
│ ├─ 💡 APIキー設定が不要に                               │
│ └─ 📝 カスタム要約テンプレートを体験                    │
│                                                         │
│ Day 17: 価値実感                                         │
│ ├─ 🎙️ 重要な会議を録音                                 │
│ ├─ 📝 カスタムテンプレートで理想的な議事録             │
│ ├─ 🔍 高度な検索で過去の議論を即座に発見               │
│ └─ 💡 「これは価値がある」                              │
│                                                         │
│ Day 20: トライアル終了前日                               │
│ ├─ 📧 リマインダーメール:                               │
│ │   「明日トライアルが終了します」                      │
│ ├─ 📊 トライアル期間の使用状況:                         │
│ │   ├─ 録音回数: 12回                                  │
│ │   ├─ 文字起こし時間: 8時間                           │
│ │   └─ 推定節約コスト: ¥288（APIコスト）              │
│ └─ 💭 「これなら払う価値あり」                          │
│                                                         │
│ Day 21: 有料転換                                         │
│ ├─ 🔔 「トライアル終了、継続しますか？」               │
│ ├─ 💳 決済情報入力                                      │
│ └─ ✅ Premium 契約完了                                  │
│                                                         │
│ 🎉 コンバージョン成功！                                  │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│ Month 2-6: 定着・アップセル期間                          │
├─────────────────────────────────────────────────────────┤
│ Month 2: Premiumユーザーとして定着                       │
│ ├─ 🎙️ 週5回録音（習慣化）                              │
│ ├─ 📊 月間使用時間: 15時間（上限50時間）               │
│ └─ ⭐ 満足度: 非常に高い                                │
│                                                         │
│ Month 4: 使用量増加                                      │
│ ├─ 📈 録音回数が増加（週10回）                          │
│ ├─ 📊 月間使用時間: 35時間                              │
│ └─ 💭 「もっと使いたい場面が増えてきた」                │
│                                                         │
│ Month 6: 上限に近づく（Proへのアップセル）              │
│ ├─ 📊 月間使用時間: 48時間（上限50時間）               │
│ ├─ 🔔 アプリ内通知:                                     │
│ │   「💙 Proなら月150時間まで使えます」                │
│ ├─ 💡 追加機能の魅力:                                   │
│ │   ├─ リアルタイム文字起こし                          │
│ │   ├─ Slack/Notion連携                               │
│ │   └─ チーム機能                                      │
│ └─ 💭 「チームで使いたいな」                            │
│                                                         │
│ 🔄 Pro検討中...（将来のアップセル候補）                 │
└─────────────────────────────────────────────────────────┘
```

---

### シナリオ2: チームユーザー（鈴木さん）の物語

```
┌─────────────────────────────────────────────────────────┐
│ 背景: スタートアップのCTO、チーム5名                     │
├─────────────────────────────────────────────────────────┤
│ Day 0: 課題認識                                          │
│ ├─ 💼 週20回以上のWeb会議                               │
│ ├─ 📝 議事録作成に毎週5時間                             │
│ ├─ 🔍 「自動化ツールを探そう」                          │
│ └─ 🌐 Google検索 → KoeMoji-Go Web発見                  │
│                                                         │
│ Day 0: チーム導入検討                                    │
│ ├─ 🆓 まず個人でFree版を試す                            │
│ ├─ ✅ 1日目で価値を実感                                 │
│ ├─ 💡 「チームで使えないか？」                          │
│ └─ 👀 料金プランを確認                                  │
│     ├─ Premium: 個人向け                               │
│     └─ Pro: チーム機能あり                             │
│                                                         │
│ Day 3: トライアル開始                                    │
│ ├─ 💙 Proの7日間トライアル開始                          │
│ ├─ 👥 チームメンバー3名を招待                           │
│ └─ 🧪 1週間テスト運用                                   │
│                                                         │
│ Day 7: 導入決定                                          │
│ ├─ 📊 1週間の成果:                                      │
│ │   ├─ 録音回数: 18回                                  │
│ │   ├─ 節約時間: 4時間/週                              │
│ │   └─ チーム満足度: 高い                              │
│ ├─ 💰 ROI計算:                                          │
│ │   ├─ コスト: ¥3,980/月                               │
│ │   ├─ 節約時間: 16時間/月                             │
│ │   └─ 時給換算: ¥5,000 → ¥80,000の価値               │
│ └─ ✅ Pro契約決定                                       │
│                                                         │
│ 🎉 高LTV顧客の獲得！                                     │
└─────────────────────────────────────────────────────────┘
```

---

## 🎚️ 機能の線引き

### Tier別機能マトリックス

```
┌─────────────────────────────────────────────────────────────────────┐
│                         機能比較表                                   │
├────────────────────────┬──────────┬───────────┬──────────────────┤
│ 機能                    │ 🆓 Free  │ 💚 Premium │ 💙 Pro           │
├────────────────────────┼──────────┼───────────┼──────────────────┤
│ 【基本機能】            │          │           │                  │
│ 録音                    │ ✅       │ ✅        │ ✅               │
│ 文字起こし              │ ✅       │ ✅        │ ✅               │
│ AI要約                  │ ✅       │ ✅        │ ✅               │
│                        │          │           │                  │
│ 【制限】                │          │           │                  │
│ 録音時間/月             │ 無制限*  │ 50時間    │ 150時間          │
│ 1回の録音時間           │ 1時間    │ 3時間     │ 5時間            │
│ 履歴保存件数            │ 20件     │ 無制限    │ 無制限           │
│ 同時使用デバイス        │ 1台      │ 3台       │ 5台              │
│                        │          │           │                  │
│ 【APIキー】             │          │           │                  │
│ APIキー管理             │ 自分     │ 不要      │ 不要             │
│ APIコスト負担           │ 自分     │ 運営      │ 運営             │
│                        │          │           │                  │
│ 【高度な機能】          │          │           │                  │
│ タイムスタンプ表示      │ ❌       │ ✅        │ ✅               │
│ カスタム要約テンプレ    │ ❌       │ ✅        │ ✅               │
│ エクスポート(CSV/JSON)  │ ❌       │ ✅        │ ✅               │
│ リアルタイム文字起こし  │ ❌       │ ❌        │ ✅               │
│ 高度な検索機能          │ ❌       │ ✅        │ ✅（全文検索）   │
│ タグ・ラベル            │ ❌       │ ✅        │ ✅               │
│ キーワードハイライト    │ ❌       │ ✅        │ ✅               │
│                        │          │           │                  │
│ 【連携機能】            │          │           │                  │
│ Notion連携              │ ❌       │ ✅（基本）│ ✅（高度）       │
│ Slack連携               │ ❌       │ ❌        │ ✅               │
│ Microsoft Teams連携     │ ❌       │ ❌        │ ✅               │
│ Zapier連携              │ ❌       │ ❌        │ ✅               │
│                        │          │           │                  │
│ 【チーム機能】          │          │           │                  │
│ チームワークスペース    │ ❌       │ ❌        │ ✅               │
│ 共有・権限管理          │ ❌       │ ❌        │ ✅               │
│ チームメンバー数        │ 1名      │ 1名       │ 5名まで          │
│ 使用状況ダッシュボード  │ ❌       │ ❌        │ ✅               │
│                        │          │           │                  │
│ 【サポート】            │          │           │                  │
│ メールサポート          │ ❌       │ ✅        │ ✅（優先）       │
│ チャットサポート        │ ❌       │ ❌        │ ✅               │
│ オンボーディング支援    │ ❌       │ ❌        │ ✅               │
│                        │          │           │                  │
│ 【価格】                │          │           │                  │
│ 月額                    │ ¥0       │ ¥1,480    │ ¥3,980           │
│ 無料トライアル          │ -        │ 7日間     │ 7日間            │
└────────────────────────┴──────────┴───────────┴──────────────────┘

* Freeの録音時間は無制限だが、APIコストはユーザー負担
```

### 機能制限の設計思想

#### 1. Value Metric（価値指標）

```
価値を感じるポイント = 使用頻度 × 機能の有用性

🎯 制限すべき指標:
├─ 📊 履歴保存件数（20件 → 無制限）
│   └─ 理由: 使えば使うほど失いたくなくなる
│
├─ 🔍 高度な検索機能（なし → あり）
│   └─ 理由: 履歴が増えると検索が必須になる
│
├─ 🔗 外部連携（なし → あり）
│   └─ 理由: ワークフローに組み込まれると離脱しにくい
│
└─ 👥 チーム機能（なし → あり）
    └─ 理由: チーム全体が使うとLTV最大化
```

#### 2. Friction Removal（摩擦除去）

```
Freeの摩擦ポイント:
├─ 🔑 APIキーを自分で設定する手間
├─ 💸 APIコストへの不安
├─ 📊 履歴20件で古いものが消える恐怖
└─ ⏰ 1時間制限で途中で切れる不満

Premium/Proで摩擦を除去:
├─ ✅ APIキー不要
├─ ✅ コスト固定（予測可能）
├─ ✅ 履歴無制限
└─ ✅ 長時間録音対応
```

#### 3. 段階的な価値提供

```
フェーズ1: 基本価値（Free）
├─ 「使える」レベル
├─ 録音・文字起こし・要約
└─ 個人の簡単な用途

フェーズ2: 強化価値（Premium）
├─ 「便利」レベル
├─ 高度な検索・履歴無制限
└─ ビジネスユースに対応

フェーズ3: 最大価値（Pro）
├─ 「手放せない」レベル
├─ リアルタイム・チーム・連携
└─ ワークフローに統合
```

---

## 🎯 コンバージョン戦略

### コンバージョンポイント設計

#### Activation（アクティベーション）

```
目標: 初回使用から24時間以内に「Aha Moment」を体験させる

┌─────────────────────────────────────────────────────────┐
│ Aha Moment = 初めての文字起こし成功                      │
├─────────────────────────────────────────────────────────┤
│ KPI:                                                    │
│ ├─ インストール → 初回録音: 70%以上                    │
│ ├─ 初回録音 → 文字起こし完了: 95%以上                  │
│ └─ 24時間以内のリテンション: 50%以上                    │
└─────────────────────────────────────────────────────────┘

施策:
├─ 📹 チュートリアル動画（30秒）
├─ 🎯 クイックスタートガイド
├─ 🧪 サンプル音声での体験
└─ 🔔 リマインダー通知
```

#### Habit Formation（習慣化）

```
目標: 週3回以上の使用を習慣化

┌─────────────────────────────────────────────────────────┐
│ Power User = 週3回以上 × 4週間連続                      │
├─────────────────────────────────────────────────────────┤
│ Power Userの有料転換率: 30-40%                          │
│ 一般ユーザーの有料転換率: 5-10%                         │
└─────────────────────────────────────────────────────────┘

施策:
├─ 🎮 ストリーク機能（連続使用日数）
├─ 📊 週次レポート（「今週3時間節約しました」）
├─ 🏆 達成バッジ（10回録音達成など）
└─ 🔔 定期リマインダー（毎週月曜朝）
```

#### Paywall Trigger（有料化トリガー）

```
トリガーポイント（優先度順）:

1. 📊 履歴20件到達（最も強力）
   ├─ タイミング: 履歴15件で予告、20件で全画面表示
   ├─ メッセージ: 「大切な記録を失う前に」
   └─ CTA: 「7日間無料で試す」

2. 🔍 検索機能の必要性（2番目に強力）
   ├─ タイミング: 履歴10件以上で過去の記録を探そうとした時
   ├─ メッセージ: 「キーワードで過去の会議を即座に検索」
   └─ CTA: 「高度な検索を試す」

3. 💰 APIコスト累計（3番目）
   ├─ タイミング: API使用料が¥500を超えた時
   ├─ メッセージ: 「Premiumなら月額固定￥1,480」
   └─ CTA: 「コストを節約する」

4. ⏰ 1時間制限（4番目）
   ├─ タイミング: 55分で警告、1時間で切断
   ├─ メッセージ: 「Premiumなら3時間まで録音可能」
   └─ CTA: 「制限を解除する」

5. 🔗 連携機能（5番目）
   ├─ タイミング: 履歴からNotionへコピペした時
   ├─ メッセージ: 「自動でNotionに送信できます」
   └─ CTA: 「連携機能を見る」
```

#### Conversion Flow（コンバージョンフロー）

```
ステップ1: トリガー発動
┌───────────────────────────────────────┐
│ ⚠️ 履歴が上限に達しました                │
│                                       │
│ 古い録音から自動削除されます           │
└───────────────────────────────────────┘
             ↓
ステップ2: 価値提示
┌───────────────────────────────────────┐
│ 💚 Premiumなら...                      │
│ ✅ 履歴無制限                          │
│ ✅ APIキー不要                         │
│ ✅ 高度な検索機能                      │
│ ✅ カスタム要約テンプレート            │
│                                       │
│ 🎁 7日間無料トライアル                │
└───────────────────────────────────────┘
             ↓
ステップ3: 社会的証明
┌───────────────────────────────────────┐
│ ⭐⭐⭐⭐⭐ 4.8/5.0                     │
│                                       │
│ 💬 「議事録作成が10倍速くなった」     │
│    - 田中太郎 (マーケティング)        │
│                                       │
│ 💬 「チームで毎日使ってます」         │
│    - 鈴木花子 (エンジニア)            │
└───────────────────────────────────────┘
             ↓
ステップ4: CTA
┌───────────────────────────────────────┐
│ [🎁 7日間無料で試す]  [後で決める]    │
└───────────────────────────────────────┘
             ↓
ステップ5: トライアル登録
┌───────────────────────────────────────┐
│ メールアドレスで登録                   │
│ [email@example.com]                   │
│                                       │
│ 🔒 クレジットカード登録                │
│ [4242 4242 4242 4242]                 │
│                                       │
│ ⚠️ 7日間は請求されません              │
│    いつでもキャンセル可能              │
│                                       │
│ [トライアルを開始]                     │
└───────────────────────────────────────┘
```

### コンバージョン最適化施策

#### A. メール・通知シーケンス

```
Day 0: ウェルカムメール
├─ 件名: 「🎉 KoeMoji-Go Webへようこそ！」
├─ 内容: クイックスタートガイド
└─ CTA: 「初めての録音をする」

Day 3: 価値再確認
├─ 件名: 「💡 まだ知らない便利な使い方」
├─ 内容: 活用事例・Tips
└─ CTA: 「事例を見る」

Day 7: Premiumの紹介
├─ 件名: 「🎁 あなただけの特別オファー」
├─ 内容: Premiumの価値提案
└─ CTA: 「7日間無料で試す」

Day 14: 履歴警告（条件付き）
├─ 条件: 履歴15件以上
├─ 件名: 「⚠️ もうすぐ履歴が上限に達します」
├─ 内容: 失う前にアップグレード
└─ CTA: 「今すぐ保護する」

Day 21: 限定オファー
├─ 件名: 「⏰ 今だけ：初月50%OFF」
├─ 内容: 期間限定キャンペーン
└─ CTA: 「今すぐ始める」

Day 30: 最終アプローチ
├─ 件名: 「💬 フィードバックをお聞かせください」
├─ 内容: なぜアップグレードしないか調査
└─ CTA: 「アンケートに答える」
```

#### B. アプリ内メッセージ

```
タイミング1: 録音完了後
┌───────────────────────────────────────┐
│ ✅ 文字起こしが完了しました！          │
│                                       │
│ 💡 Premiumならカスタムテンプレートで   │
│    理想的な議事録を自動生成できます    │
│ [詳しく見る] [✕]                      │
└───────────────────────────────────────┘

タイミング2: 履歴一覧表示時
┌───────────────────────────────────────┐
│ 📊 履歴: 18/20件                       │
│                                       │
│ ⚠️ あと2件で上限です                  │
│ 💚 Premiumなら無制限                   │
│ [アップグレード] [✕]                   │
└───────────────────────────────────────┘

タイミング3: 履歴が10件に達した時
┌───────────────────────────────────────┐
│ 🔍 履歴が増えてきましたね              │
│                                       │
│ 💡 過去の会議内容を一瞬で検索しませんか？│
│ [高度な検索を試す] [いいえ]           │
└───────────────────────────────────────┘
```

---

## 🛠️ 実装仕様

### アーキテクチャ設計

#### システム全体図

```
┌─────────────────────────────────────────────────────────┐
│                    Chrome Extension                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────┐          │
│  │ Popup UI                                 │          │
│  │ ├─ プラン表示                             │          │
│  │ ├─ 使用量メーター                         │          │
│  │ └─ アップグレードCTA                      │          │
│  └─────────────────────────────────────────┘          │
│                    ↓↑                                  │
│  ┌─────────────────────────────────────────┐          │
│  │ Background Script                        │          │
│  │ ├─ プラン判定ロジック                     │          │
│  │ ├─ 機能制限チェック                       │          │
│  │ └─ APIルーティング                        │          │
│  └─────────────────────────────────────────┘          │
│                    ↓↑                                  │
└────────────┬───────────────────────────────────────────┘
             │
             │ HTTPS
             ↓
┌─────────────────────────────────────────────────────────┐
│                  Backend API Server                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────┐          │
│  │ Authentication Service                   │          │
│  │ └─ Firebase Auth                         │          │
│  └─────────────────────────────────────────┘          │
│                    ↓↑                                  │
│  ┌─────────────────────────────────────────┐          │
│  │ Subscription Service                     │          │
│  │ ├─ Stripe統合                            │          │
│  │ ├─ プラン管理                             │          │
│  │ └─ 使用量トラッキング                     │          │
│  └─────────────────────────────────────────┘          │
│                    ↓↑                                  │
│  ┌─────────────────────────────────────────┐          │
│  │ Transcription Service                    │          │
│  │ ├─ OpenAI Proxy                          │          │
│  │ ├─ 検索インデックス作成                  │          │
│  │ └─ キュー管理                             │          │
│  └─────────────────────────────────────────┘          │
│                    ↓↑                                  │
│  ┌─────────────────────────────────────────┐          │
│  │ Database (PostgreSQL)                    │          │
│  │ ├─ users                                 │          │
│  │ ├─ subscriptions                         │          │
│  │ ├─ usage_logs                            │          │
│  │ └─ transcriptions                        │          │
│  └─────────────────────────────────────────┘          │
│                                                         │
└─────────────────────────────────────────────────────────┘
             │
             ↓
┌─────────────────────────────────────────────────────────┐
│                     OpenAI API                           │
└─────────────────────────────────────────────────────────┘
```

### データベーススキーマ

```sql
-- ユーザーテーブル
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  last_login TIMESTAMP,
  tier VARCHAR(50) DEFAULT 'free', -- 'free', 'premium', 'pro'

  -- Free tier設定
  own_api_key_encrypted TEXT, -- 暗号化されたユーザーのAPIキー

  -- Premium/Pro tier設定
  stripe_customer_id VARCHAR(255),

  -- メタデータ
  onboarding_completed BOOLEAN DEFAULT FALSE,
  feature_flags JSONB DEFAULT '{}'::jsonb,

  INDEX idx_email (email),
  INDEX idx_tier (tier)
);

-- サブスクリプションテーブル
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  stripe_subscription_id VARCHAR(255) UNIQUE,

  tier VARCHAR(50) NOT NULL, -- 'premium', 'pro'
  status VARCHAR(50) NOT NULL, -- 'trial', 'active', 'canceled', 'past_due'

  trial_start TIMESTAMP,
  trial_end TIMESTAMP,
  current_period_start TIMESTAMP NOT NULL,
  current_period_end TIMESTAMP NOT NULL,

  cancel_at TIMESTAMP,
  canceled_at TIMESTAMP,

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),

  INDEX idx_user_id (user_id),
  INDEX idx_status (status),
  INDEX idx_stripe_subscription_id (stripe_subscription_id)
);

-- 使用量ログテーブル
CREATE TABLE usage_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,

  type VARCHAR(50) NOT NULL, -- 'transcription', 'summary'
  duration_seconds INTEGER, -- 録音時間（秒）
  api_cost DECIMAL(10, 4), -- APIコスト（ドル）

  metadata JSONB DEFAULT '{}'::jsonb, -- 話者数、ファイルサイズなど

  created_at TIMESTAMP DEFAULT NOW(),

  INDEX idx_user_id (user_id),
  INDEX idx_created_at (created_at),
  INDEX idx_type (type)
);

-- 月間使用量集計（マテリアライズドビュー）
CREATE MATERIALIZED VIEW monthly_usage AS
SELECT
  user_id,
  DATE_TRUNC('month', created_at) AS month,
  COUNT(*) AS transcription_count,
  SUM(duration_seconds) AS total_duration_seconds,
  SUM(api_cost) AS total_api_cost
FROM usage_logs
WHERE type = 'transcription'
GROUP BY user_id, DATE_TRUNC('month', created_at);

CREATE UNIQUE INDEX ON monthly_usage (user_id, month);

-- 文字起こし履歴テーブル
CREATE TABLE transcriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,

  title VARCHAR(255),
  duration_seconds INTEGER NOT NULL,

  transcript TEXT NOT NULL,
  summary TEXT,

  timestamps JSONB, -- タイムスタンプ情報（Premium/Proのみ）
  metadata JSONB DEFAULT '{}'::jsonb,

  audio_file_url TEXT, -- S3/GCS URL（オプション）

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),

  INDEX idx_user_id (user_id),
  INDEX idx_created_at (created_at)
);

-- 機能使用トラッキング（A/Bテスト用）
CREATE TABLE feature_usage (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,

  feature_name VARCHAR(100) NOT NULL,
  variant VARCHAR(50), -- A/Bテストのバリアント

  event_type VARCHAR(50) NOT NULL, -- 'view', 'click', 'complete'
  event_data JSONB DEFAULT '{}'::jsonb,

  created_at TIMESTAMP DEFAULT NOW(),

  INDEX idx_user_id (user_id),
  INDEX idx_feature_name (feature_name),
  INDEX idx_created_at (created_at)
);
```

### API設計

#### 認証・プラン情報

```javascript
// GET /api/v1/me
// ユーザー情報とプラン取得
{
  "user": {
    "id": "uuid",
    "email": "user@example.com",
    "tier": "premium",
    "onboarding_completed": true
  },
  "subscription": {
    "status": "active",
    "current_period_end": "2025-11-12T00:00:00Z",
    "trial_end": null,
    "cancel_at": null
  },
  "usage": {
    "current_month": {
      "transcription_count": 42,
      "duration_seconds": 126000, // 35時間
      "limit_seconds": 180000 // 50時間
    }
  },
  "features": {
    "timestamps": true,
    "custom_templates": true,
    "advanced_search": true,
    "realtime_transcription": false,
    "integrations": ["notion"],
    "team": false
  }
}
```

#### 文字起こしリクエスト

```javascript
// POST /api/v1/transcribe
// リクエスト
{
  "audio": "base64_encoded_audio_data",
  "language": "ja",
  "options": {
    "timestamps": true, // Premium/Proのみ
    "custom_template": "meeting_notes" // Premium/Proのみ
  }
}

// レスポンス（Free tier - 自分のAPIキー使用）
{
  "status": "use_own_api_key",
  "message": "Please use your own OpenAI API key"
}

// レスポンス（Premium/Pro tier - プロキシAPI）
{
  "status": "processing",
  "job_id": "uuid",
  "estimated_time": 120 // 秒
}

// GET /api/v1/transcribe/{job_id}
// ジョブステータス確認
{
  "status": "completed",
  "result": {
    "transcript": "こんにちは...",
    "summary": "本日の会議では...",
    "timestamps": [
      {
        "start": 0.0,
        "end": 5.2,
        "text": "こんにちは、今日は..."
      },
      {
        "start": 5.2,
        "end": 12.8,
        "text": "本日の議題について説明します..."
      }
    ],
    "duration_seconds": 1800,
    "word_count": 5000
  }
}
```

#### サブスクリプション管理

```javascript
// POST /api/v1/subscriptions/checkout
// チェックアウトセッション作成
{
  "tier": "premium", // or "pro"
  "billing_interval": "month" // or "year"
}

// レスポンス
{
  "checkout_url": "https://checkout.stripe.com/...",
  "session_id": "cs_..."
}

// POST /api/v1/subscriptions/portal
// カスタマーポータルURL取得
{
  "portal_url": "https://billing.stripe.com/..."
}

// POST /api/v1/subscriptions/cancel
// サブスクリプションキャンセル
{
  "cancel_at_period_end": true
}

// レスポンス
{
  "status": "canceled",
  "access_until": "2025-11-12T00:00:00Z"
}
```

---

## 🔄 グロースループ

### Viral Loop（バイラルループ）

```
┌─────────────────────────────────────────────────────────┐
│                      Viral Loop                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1. ユーザーが会議を録音                                 │
│          ↓                                              │
│  2. 文字起こし・要約を生成                               │
│          ↓                                              │
│  3. 会議参加者にシェア（メール・Slack）                  │
│          ↓                                              │
│  4. 受け取った人が「これ便利！」と思う                   │
│          ↓                                              │
│  5. KoeMoji-Go Webをインストール                        │
│          ↓                                              │
│  6. 新規ユーザー獲得 🎉                                  │
│          ↓                                              │
│  （ループ1に戻る）                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘

Viral Coefficient (K) = 1.2 （目標）
├─ 1人のユーザーが1.2人を招待
└─ K > 1.0 でユーザーが指数関数的に増加
```

### シェア機能の実装

```javascript
// 文字起こし結果のシェア画面
┌───────────────────────────────────────┐
│ ✅ 文字起こしが完了しました            │
│                                       │
│ 📝 2025年10月12日 チーム会議          │
│ ⏱️ 45分                                │
│                                       │
│ 💡 会議参加者にシェアしますか？        │
│                                       │
│ [📧 メールで送信]  [💬 Slackで送信]  │
│ [🔗 リンクをコピー]                   │
└───────────────────────────────────────┘

// シェアされたリンク
https://koemoji.com/share/uuid

// 閲覧画面（非ログインユーザー）
┌───────────────────────────────────────┐
│ 📝 2025年10月12日 チーム会議          │
│ ⏱️ 45分                                │
│                                       │
│ 【要約】                               │
│ 本日の会議では...                      │
│                                       │
│ 【文字起こし】                         │
│ [田中]: こんにちは...                  │
│ [鈴木]: おはようございます...          │
│                                       │
│ ────────────────────────────         │
│                                       │
│ 💡 この議事録は KoeMoji-Go Web で     │
│    自動生成されました                  │
│                                       │
│ [🆓 無料で始める]                      │
└───────────────────────────────────────┘
```

### Content Loop（コンテンツループ）

```
┌─────────────────────────────────────────────────────────┐
│                    Content Loop                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1. ユーザーが文字起こしをNotionに保存                   │
│          ↓                                              │
│  2. Notion記事がGoogle検索で上位表示                    │
│          ↓                                              │
│  3. 検索者が「KoeMoji-Go Webで作成」に気づく            │
│          ↓                                              │
│  4. KoeMoji-Go Webに興味を持つ                          │
│          ↓                                              │
│  5. インストール・使用開始                               │
│          ↓                                              │
│  6. 新規ユーザー獲得 🎉                                  │
│          ↓                                              │
│  （ループ1に戻る）                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘

実装:
├─ Notion/Slack出力に「Generated by KoeMoji-Go Web」署名
├─ エクスポートファイルにリンク埋め込み
└─ 透かし（ウォーターマーク）機能（Free tierのみ）
```

### Retention Loop（リテンションループ）

```
┌─────────────────────────────────────────────────────────┐
│                   Retention Loop                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1. 週3回以上の録音（習慣化）                            │
│          ↓                                              │
│  2. 履歴が蓄積（20件以上）                               │
│          ↓                                              │
│  3. 「失いたくない」心理                                 │
│          ↓                                              │
│  4. Premiumにアップグレード                              │
│          ↓                                              │
│  5. 履歴無制限でさらに蓄積                               │
│          ↓                                              │
│  6. スイッチングコスト増大                               │
│          ↓                                              │
│  7. チャーン率低下 🎉                                    │
│          ↓                                              │
│  （ループ5に戻る）                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘

KPI:
├─ D7リテンション: 50%以上
├─ D30リテンション: 30%以上
└─ 有料ユーザーの月次チャーン: 5%以下
```

---

## 📈 シミュレーション

### 12ヶ月成長シミュレーション

```
前提条件:
├─ 初月ユーザー: 100人
├─ 月間成長率: 30%（初期6ヶ月）→ 20%（後半6ヶ月）
├─ Free→Premium転換率: 15%
├─ Premium→Pro転換率: 10%
├─ 月次チャーン率: 5%
└─ Viral Coefficient: 1.1

┌─────┬──────┬──────┬─────────┬─────────┬──────────┬─────────┐
│ 月  │ 新規 │ Free │ Premium │   Pro   │   MRR    │   ARR   │
├─────┼──────┼──────┼─────────┼─────────┼──────────┼─────────┤
│  1  │  100 │   85 │      13 │      2  │   23,180 │  278,160│
│  2  │  130 │  196 │      31 │      4  │   61,780 │  741,360│
│  3  │  169 │  332 │      58 │      9  │ 121,740  │1,460,880│
│  4  │  220 │  497 │      95 │     17  │ 208,220  │2,498,640│
│  5  │  286 │  711 │     148 │     30  │ 338,560  │4,062,720│
│  6  │  372 │  994 │     222 │     51  │ 531,300  │6,375,600│
│  7  │  446 │1,327 │     317 │     82  │ 795,720  │9,548,640│
│  8  │  535 │1,718 │     441 │    126  │1,170,540 │14,046,480│
│  9  │  642 │2,178 │     598 │    186  │1,625,280 │19,503,360│
│ 10  │  770 │2,717 │     793 │    268  │2,240,140 │26,881,680│
│ 11  │  924 │3,348 │   1,034 │    379  │3,038,460 │36,461,520│
│ 12  │1,109 │4,084 │   1,332 │    524  │4,058,160 │48,697,920│
└─────┴──────┴──────┴─────────┴─────────┴──────────┴─────────┘

12ヶ月後の状況:
├─ 総ユーザー: 5,940人
├─ 有料ユーザー: 1,856人（31.3%）
├─ MRR: ¥4,058,160
├─ ARR: ¥48,697,920
└─ 目標達成率: 400% 🎉
```

### キャッシュフローシミュレーション

```
┌─────┬───────────┬───────────┬──────────┬──────────┐
│ 月  │   収益    │   支出    │ 純利益   │ 累積     │
├─────┼───────────┼───────────┼──────────┼──────────┤
│  0  │        0  │-1,000,000 │-1,000,000│-1,000,000│ ← 初期投資
│  1  │   23,180  │   50,000  │  -26,820 │-1,026,820│
│  2  │   61,780  │   52,000  │    9,780 │-1,017,040│
│  3  │  121,740  │   55,000  │   66,740 │  -950,300│
│  4  │  208,220  │   60,000  │  148,220 │  -802,080│
│  5  │  338,560  │   70,000  │  268,560 │  -533,520│
│  6  │  531,300  │   85,000  │  446,300 │   -87,220│ ← 黒字間近
│  7  │  795,720  │  100,000  │  695,720 │   608,500│ ← 黒字化！
│  8  │1,170,540  │  120,000  │1,050,540 │ 1,659,040│
│  9  │1,625,280  │  145,000  │1,480,280 │ 3,139,320│
│ 10  │2,240,140  │  175,000  │2,065,140 │ 5,204,460│
│ 11  │3,038,460  │  210,000  │2,828,460 │ 8,032,920│
│ 12  │4,058,160  │  250,000  │3,808,160 │11,841,080│
└─────┴───────────┴───────────┴──────────┴──────────┘

損益分岐点: 7ヶ月目
投資回収期間（ROI）: 8ヶ月
12ヶ月後の累積利益: ¥11,841,080
```

### 悲観シナリオ

```
前提条件（悪い場合）:
├─ 月間成長率: 15%（初期）→ 10%（後半）
├─ Free→Premium転換率: 8%
├─ Premium→Pro転換率: 5%
├─ 月次チャーン率: 10%
└─ Viral Coefficient: 0.9

12ヶ月後:
├─ 総ユーザー: 2,150人
├─ 有料ユーザー: 189人
├─ MRR: ¥350,000
├─ ARR: ¥4,200,000
└─ 黒字化: 12ヶ月目

結論: 悲観シナリオでも1年で黒字化可能
```

### 楽観シナリオ

```
前提条件（良い場合）:
├─ 月間成長率: 50%（初期）→ 35%（後半）
├─ Free→Premium転換率: 20%
├─ Premium→Pro転換率: 15%
├─ 月次チャーン率: 3%
└─ Viral Coefficient: 1.3

12ヶ月後:
├─ 総ユーザー: 15,000人
├─ 有料ユーザー: 3,450人
├─ MRR: ¥8,500,000
├─ ARR: ¥102,000,000
└─ ユニコーン候補 🦄

結論: バイラル成功すれば爆発的成長
```

---

## 🧪 A/Bテスト計画

### テスト1: オンボーディングフロー

```
目的: アクティベーション率の向上

A案（コントロール）:
├─ APIキー設定を最初に要求
└─ 設定完了まで録音不可

B案（新案）:
├─ APIキー設定をスキップ可能
├─ サンプル音声で機能体験
└─ 体験後にAPIキー設定を促す

評価指標:
├─ 初回録音完了率
├─ インストール→初回録音の時間
└─ D7リテンション

期待結果: B案で初回録音完了率+30%
```

### テスト2: Paywallデザイン

```
目的: コンバージョン率の向上

A案（コントロール）:
┌───────────────────────────────────────┐
│ ⚠️ 履歴が上限に達しました                │
│                                       │
│ 💚 Premiumにアップグレード             │
│ [7日間無料で試す]                      │
└───────────────────────────────────────┘

B案（損失回避フレーム）:
┌───────────────────────────────────────┐
│ ⚠️ 明日、最も古い録音が削除されます      │
│                                       │
│ 「2025年9月5日の重要会議」が失われます │
│                                       │
│ 💚 今すぐ保護する                      │
│ [7日間無料で試す]                      │
└───────────────────────────────────────┘

C案（社会的証明）:
┌───────────────────────────────────────┐
│ ⚠️ 履歴が上限に達しました                │
│                                       │
│ 💬 「Premium最高！もう手放せない」     │
│    - 田中太郎（87%のユーザーが満足）   │
│                                       │
│ 💚 Premiumを試す                       │
│ [7日間無料トライアル]                  │
└───────────────────────────────────────┘

評価指標:
├─ クリック率（CTR）
├─ トライアル開始率
└─ トライアル→有料転換率

期待結果: B案でCTR+50%、転換率+25%
```

### テスト3: 価格設定

```
目的: 最適な価格の発見

A案（現行）:
├─ Premium: ¥1,480/月
└─ Pro: ¥3,980/月

B案（低価格）:
├─ Premium: ¥980/月
└─ Pro: ¥2,980/月

C案（高価格）:
├─ Premium: ¥1,980/月
└─ Pro: ¥4,980/月

評価指標:
├─ コンバージョン率
├─ ARPU（ユーザー当たり平均収益）
└─ LTV（顧客生涯価値）

期待結果: A案が最適（コンバージョンとARPUのバランス）
```

### テスト4: トライアル期間

```
目的: 最適なトライアル期間の特定

A案: 7日間無料トライアル
B案: 14日間無料トライアル
C案: 30日間無料トライアル

評価指標:
├─ トライアル開始率
├─ トライアル期間中の使用頻度
└─ トライアル→有料転換率

期待結果: 7日間が最適（緊急性とコンバージョンのバランス）
```

---

## 📞 次のステップ

### Phase 1開始前の準備（Week 1-2）

```
✅ 完了させるタスク:

1. ビジネス計画の確定
   ├─ 目標数値の設定
   ├─ 予算配分の決定
   └─ スケジュール確定

2. 技術選定
   ├─ バックエンドフレームワーク（Node.js vs Go）
   ├─ 認証サービス（Firebase vs Supabase）
   ├─ 決済サービス（Stripe vs Paddle）
   └─ ホスティング（Vercel vs Railway）

3. リーガル準備
   ├─ 利用規約作成
   ├─ プライバシーポリシー更新
   └─ 特定商取引法表記

4. チーム編成
   ├─ フロントエンド開発者: 1名
   ├─ バックエンド開発者: 1-2名
   └─ デザイナー: 0.5名（パートタイム）

5. 開発環境構築
   ├─ Gitリポジトリ準備
   ├─ CI/CD パイプライン
   └─ ステージング環境
```

### Phase 1実装（Week 3-8）

詳細は実装ロードマップ参照

### 継続的モニタリング

```
週次レビュー:
├─ 📊 KPI確認
├─ 🐛 バグレポート
├─ 💬 ユーザーフィードバック
└─ 🔄 A/Bテスト結果

月次レビュー:
├─ 📈 成長率分析
├─ 💰 財務レビュー
├─ 🎯 戦略調整
└─ 📅 次月計画
```

---

## 📚 参考資料

### フリーミアム成功事例

```
🎵 Spotify
├─ 無料版: 広告あり
├─ 有料版: 広告なし・オフライン再生
├─ 転換率: 25%
└─ 学び: 無料版で習慣化→有料転換

📝 Evernote
├─ 無料版: 2台まで同期
├─ 有料版: 無制限同期
├─ 転換率: 5%
└─ 学び: デバイス制限が強力

💬 Slack
├─ 無料版: 履歴10,000件
├─ 有料版: 無制限履歴
├─ 転換率: 30%（チーム）
└─ 学び: チーム全体での使用がロックイン
```

### 推奨読書

- 📘 "Free" by Chris Anderson
- 📗 "Hooked" by Nir Eyal
- 📙 "The Lean Startup" by Eric Ries
- 📕 "Crossing the Chasm" by Geoffrey Moore

---

**最終更新**: 2025-10-12
**バージョン**: 1.0.0
**ステータス**: 🟢 設計完了
**次のステップ**: Phase 1実装開始
