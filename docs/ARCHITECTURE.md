# ğŸ—ï¸ KoeMoji-Go Web ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## ğŸ“‹ æ¦‚è¦

KoeMoji-Go Webã¯Chromeæ‹¡å¼µæ©Ÿèƒ½ã¨ã—ã¦å‹•ä½œã™ã‚‹ã€ã‚ã‚‰ã‚†ã‚‹éŸ³å£°ã‚’æ–‡å­—èµ·ã“ã—ãƒ»è¦ç´„ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä»®æƒ³ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ‡ãƒã‚¤ã‚¹çµŒç”±ã§ã‚·ã‚¹ãƒ†ãƒ éŸ³å£°ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ãŸã‚ã€Webä¼šè­°ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã€ãƒ–ãƒ©ã‚¦ã‚¶éŸ³å£°ãªã©ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã‚’å•ã‚ãšåˆ©ç”¨ã§ãã¾ã™ã€‚

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Chrome Extension                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Popup UI   â”‚  â”‚   Settings   â”‚            â”‚
â”‚  â”‚  (popup.js)  â”‚  â”‚(settings.js) â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”‚                  â”‚                     â”‚
â”‚         v                  v                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚     Background Script            â”‚            â”‚
â”‚  â”‚     (background.js)              â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚             â”‚                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚    v                 v                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Audio   â”‚  â”‚   OpenAI     â”‚                â”‚
â”‚  â”‚ Recorder â”‚  â”‚   Client     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         v                        v
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ System  â”‚            â”‚  OpenAI API  â”‚
   â”‚ Audio   â”‚            â”‚  - Whisper   â”‚
   â”‚ (Any    â”‚            â”‚  - GPT-4     â”‚
   â”‚  App)   â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
koemoji-web/
â”œâ”€â”€ manifest.json          # Chromeæ‹¡å¼µè¨­å®š
â”œâ”€â”€ background.js          # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ content.js            # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚
â”œâ”€â”€ popup/                # ãƒ¡ã‚¤ãƒ³UI
â”‚   â”œâ”€â”€ popup.html        # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—HTML
â”‚   â”œâ”€â”€ popup.js          # UIåˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ popup.css         # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚
â”œâ”€â”€ settings/             # è¨­å®šç”»é¢
â”‚   â”œâ”€â”€ settings.html     # è¨­å®šHTML
â”‚   â””â”€â”€ settings.js       # è¨­å®šãƒ­ã‚¸ãƒƒã‚¯
â”‚
â”œâ”€â”€ lib/                  # ã‚³ã‚¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ audio-recorder.js # éŸ³å£°éŒ²éŸ³æ©Ÿèƒ½
â”‚   â”œâ”€â”€ audio-encoder.js  # éŸ³å£°ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ openai-client.js  # OpenAI APIçµ±åˆ
â”‚   â””â”€â”€ storage.js        # ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
â”‚
â”œâ”€â”€ icons/                # æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¤ã‚³ãƒ³
â”‚   â”œâ”€â”€ icon-16.png
â”‚   â”œâ”€â”€ icon-48.png
â”‚   â””â”€â”€ icon-128.png
â”‚
â””â”€â”€ docs/                 # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ ARCHITECTURE.md
    â”œâ”€â”€ SETUP_GUIDE.md
    â”œâ”€â”€ DEVELOPMENT.md
    â””â”€â”€ API_REFERENCE.md
```

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### 1. ğŸ™ï¸ éŒ²éŸ³ãƒ•ãƒ­ãƒ¼

```
User Action (Click Record)
    â”‚
    v
popup.js
    â”‚
    v
background.js
    â”‚
    â”œâ”€> audio-recorder.js
    â”‚   â”‚
    â”‚   â”œâ”€> navigator.mediaDevices.getUserMedia()
    â”‚   â”‚   (ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹: BlackHole/VoiceMeeter)
    â”‚   â”‚
    â”‚   â””â”€> Web Audio API
    â”‚       - MediaRecorder
    â”‚       - AudioContext
    â”‚
    v
Recording in progress...
    â”‚
    v
User Action (Stop Recording)
    â”‚
    v
audio-encoder.js
    â”‚
    â”œâ”€> WAV/MP3ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
    â””â”€> Blobç”Ÿæˆ
```

### 2. ğŸ“ æ–‡å­—èµ·ã“ã—ãƒ»è¦ç´„ãƒ•ãƒ­ãƒ¼

```
Audio Blob
    â”‚
    v
openai-client.js
    â”‚
    â”œâ”€> Whisper API
    â”‚   - FormDataé€ä¿¡
    â”‚   - éŸ³å£° â†’ ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›
    â”‚   â””â”€> Transcript Text
    â”‚
    v
openai-client.js
    â”‚
    â”œâ”€> GPT-4 API
    â”‚   - ãƒ†ã‚­ã‚¹ãƒˆé€ä¿¡
    â”‚   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: è¦ç´„ç”Ÿæˆ
    â”‚   â””â”€> Summary Text
    â”‚
    v
storage.js
    â”‚
    â”œâ”€> chrome.storage.local
    â”‚   - æ–‡å­—èµ·ã“ã—ä¿å­˜
    â”‚   - è¦ç´„ä¿å­˜
    â”‚   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜
    â”‚
    v
popup.js
    â”‚
    â””â”€> UIè¡¨ç¤ºæ›´æ–°
```

## ğŸ¯ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

### 1. âš™ï¸ Background Script (background.js)

**å½¹å‰²:**
- Chromeæ‹¡å¼µã®ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†
- éŒ²éŸ³çŠ¶æ…‹ã®ç®¡ç†
- APIé€šä¿¡ã®åˆ¶å¾¡

**ä¸»è¦æ©Ÿèƒ½:**
```javascript
// éŒ²éŸ³åˆ¶å¾¡
startRecording(deviceId)
stopRecording()

// APIé€£æº
transcribeAudio(audioBlob)
generateSummary(transcript)

// ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†
saveTranscript(data)
loadTranscripts()
```

### 2. ğŸµ Audio Recorder (lib/audio-recorder.js)

**å½¹å‰²:**
- éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ã®åˆ—æŒ™
- éŸ³å£°ã‚­ãƒ£ãƒ—ãƒãƒ£
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŒ²éŸ³

**æŠ€è¡“:**
- `navigator.mediaDevices.getUserMedia()`
- `MediaRecorder` API
- `AudioContext` API

**ä¸»è¦æ©Ÿèƒ½:**
```javascript
// ãƒ‡ãƒã‚¤ã‚¹åˆ—æŒ™
async getAudioDevices()

// éŒ²éŸ³é–‹å§‹
async startRecording(deviceId) {
  const stream = await navigator.mediaDevices.getUserMedia({
    audio: { deviceId: { exact: deviceId } }
  });

  const mediaRecorder = new MediaRecorder(stream);
  // éŒ²éŸ³å‡¦ç†...
}

// éŒ²éŸ³åœæ­¢
stopRecording()

// éŸ³å£°ãƒ‡ãƒ¼ã‚¿å–å¾—
getAudioBlob()
```

### 3. ğŸ”Š Audio Encoder (lib/audio-encoder.js)

**å½¹å‰²:**
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
- WAV/MP3å½¢å¼ã¸ã®å¤‰æ›
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–

**ä¸»è¦æ©Ÿèƒ½:**
```javascript
// WAVã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
encodeWAV(audioBuffer, sampleRate, channels)

// MP3ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
encodeMP3(audioBuffer)

// åœ§ç¸®
compressAudio(audioBlob, options)
```

### 4. ğŸ¤– OpenAI Client (lib/openai-client.js)

**å½¹å‰²:**
- OpenAI APIçµ±åˆ
- Whisper APIå‘¼ã³å‡ºã—
- GPT-4 APIå‘¼ã³å‡ºã—

**ä¸»è¦æ©Ÿèƒ½:**
```javascript
// Whisper API
async transcribe(audioBlob, options) {
  const formData = new FormData();
  formData.append('file', audioBlob, 'audio.wav');
  formData.append('model', 'whisper-1');
  formData.append('language', 'ja');

  const response = await fetch('https://api.openai.com/v1/audio/transcriptions', {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${apiKey}` },
    body: formData
  });

  return await response.json();
}

// GPT-4 API
async summarize(transcript, prompt) {
  const response = await fetch('https://api.openai.com/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      model: 'gpt-4',
      messages: [
        { role: 'system', content: 'ã‚ãªãŸã¯ä¼šè­°ã®è­°äº‹éŒ²ä½œæˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚' },
        { role: 'user', content: `ä»¥ä¸‹ã®ä¼šè­°ã®æ–‡å­—èµ·ã“ã—ã‚’è¦ç´„ã—ã¦ãã ã•ã„:\n\n${transcript}` }
      ]
    })
  });

  const data = await response.json();
  return data.choices[0].message.content;
}
```

### 5. ğŸ’¾ Storage (lib/storage.js)

**å½¹å‰²:**
- ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–
- chrome.storage.localç®¡ç†
- ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿æ›¸ã

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ :**
```javascript
{
  "transcripts": [
    {
      "id": "uuid-v4",
      "timestamp": "2024-01-15T10:30:00Z",
      "title": "Team Meeting",
      "duration": 1800, // ç§’
      "transcript": "æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆ...",
      "summary": "AIè¦ç´„...",
      "audioSize": 15728640, // ãƒã‚¤ãƒˆ
      "platform": "google-meet" // or "zoom" or "unknown" (ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ éä¾å­˜)
    }
  ],
  "settings": {
    "apiKey": "sk-...",
    "recordingDevice": "BlackHole 2ch",
    "language": "ja",
    "autoSummarize": true
  }
}
```

**ä¸»è¦æ©Ÿèƒ½:**
```javascript
// è¨­å®š
async saveSettings(settings)
async loadSettings()

// æ–‡å­—èµ·ã“ã—
async saveTranscript(transcript)
async loadTranscripts()
async deleteTranscript(id)

// APIã‚­ãƒ¼
async saveApiKey(apiKey)
async getApiKey()
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### 1. ğŸ”‘ APIã‚­ãƒ¼ç®¡ç†

**ä¿å­˜å ´æ‰€:**
- `chrome.storage.sync` - æš—å·åŒ–ã•ã‚ŒãŸã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ç´ä»˜ãï¼ˆåŒæœŸå¯èƒ½ï¼‰

**ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡:**
- Background scriptã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- Popup/Content scriptã‹ã‚‰ã¯ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯

### 2. ğŸ›¡ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼

**ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜:**
- æ–‡å­—èµ·ã“ã—çµæœã¯ `chrome.storage.local` ã«ä¿å­˜
- å¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼ã¸ã®é€ä¿¡ãªã—ï¼ˆOpenAI APIé™¤ãï¼‰

**ãƒ‡ãƒ¼ã‚¿å‰Šé™¤:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«å‰Šé™¤å¯èƒ½
- Chromeæ‹¡å¼µã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«è‡ªå‹•å‰Šé™¤

### 3. âœ… æ¨©é™æœ€å°åŒ–

**manifest.json permissions:**
```json
{
  "permissions": [
    "storage",           // ãƒ‡ãƒ¼ã‚¿ä¿å­˜
    "activeTab",         // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–æƒ…å ±ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
    "offscreen",         // ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³éŒ²éŸ³
    "audioCapture"       // éŸ³å£°ã‚­ãƒ£ãƒ—ãƒãƒ£
  ],
  "host_permissions": []  // ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ éä¾å­˜ã®ãŸã‚ä¸è¦
}
```

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ

### 1. ğŸµ éŸ³å£°å‡¦ç†

**éŒ²éŸ³å“è³ª:**
- ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆ: 44.1kHzï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- ãƒ“ãƒƒãƒˆæ·±åº¦: 16bit
- ãƒãƒ£ãƒ³ãƒãƒ«: ãƒ¢ãƒãƒ©ãƒ«

**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè¦‹ç©ã‚‚ã‚Š:**
```
1æ™‚é–“ã®ä¼šè­°:
- éåœ§ç¸®WAV: ç´„300MB
- åœ§ç¸®MP3(64kbps): ç´„28MB
```

**æœ€é©åŒ–:**
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ§ç¸®
- ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ï¼ˆé•·æ™‚é–“ä¼šè­°å¯¾å¿œï¼‰

### 2. ğŸ“¡ APIé€šä¿¡

**Whisper APIåˆ¶é™:**
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 25MBä»¥ä¸‹
- å¯¾ç­–: éŸ³å£°åœ§ç¸® + ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²

**GPT-4åˆ¶é™:**
- ãƒˆãƒ¼ã‚¯ãƒ³æ•°: 128Kï¼ˆgpt-4-turboï¼‰
- å¯¾ç­–: é•·æ–‡ã¯è¦ç´„ã‚’æ®µéšçš„ã«ç”Ÿæˆ

### 3. ğŸ§  ãƒ¡ãƒ¢ãƒªç®¡ç†

**éŒ²éŸ³ä¸­:**
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°éŒ²éŸ³ï¼ˆãƒ¡ãƒ¢ãƒªè“„ç©ãªã—ï¼‰
- å®šæœŸçš„ãªãƒãƒ£ãƒ³ã‚¯æ›¸ãè¾¼ã¿

**å‡¦ç†å¾Œ:**
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã¯å³åº§ã«ç ´æ£„
- ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ã¿ä¿å­˜

## âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 1. ğŸ™ï¸ éŒ²éŸ³ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶:**
- ãƒ‡ãƒã‚¤ã‚¹ã‚¢ã‚¯ã‚»ã‚¹å¤±æ•—
- æ¨©é™ã‚¨ãƒ©ãƒ¼

**å¯¾å¿œ:**
```javascript
try {
  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
} catch (error) {
  if (error.name === 'NotAllowedError') {
    // ãƒã‚¤ã‚¯æ¨©é™ãŒãªã„
    showPermissionDialog();
  } else if (error.name === 'NotFoundError') {
    // ãƒ‡ãƒã‚¤ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„
    showDeviceSelectionDialog();
  }
}
```

### 2. ğŸ“¡ API ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶:**
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼
- APIã‚­ãƒ¼ç„¡åŠ¹
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™

**å¯¾å¿œ:**
```javascript
try {
  const response = await fetch(apiUrl, options);
  if (!response.ok) {
    if (response.status === 401) {
      // APIã‚­ãƒ¼ç„¡åŠ¹
      showApiKeyError();
    } else if (response.status === 429) {
      // ãƒ¬ãƒ¼ãƒˆåˆ¶é™
      showRateLimitError();
    }
  }
} catch (error) {
  // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼
  showNetworkError();
}
```

## ğŸš€ æ‹¡å¼µæ€§

### ğŸ’¡ å°†æ¥ã®æ©Ÿèƒ½æ‹¡å¼µ

1. **è©±è€…è­˜åˆ¥**
   - DOMç›£è¦–ã«ã‚ˆã‚‹è©±è€…åå–å¾—
   - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒãƒƒãƒ”ãƒ³ã‚°

2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è»¢å†™**
   - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°Whisper API
   - WebSocketé€šä¿¡

3. **å¤šè¨€èªå¯¾å¿œ**
   - UIå¤šè¨€èªåŒ–
   - è‡ªå‹•è¨€èªæ¤œå‡º

4. **ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ**
   - å¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸çµ±åˆ
   - ãƒãƒ¼ãƒ å…±æœ‰æ©Ÿèƒ½

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ğŸ’» ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **HTML5/CSS3** - UIæ§‹ç¯‰
- **Vanilla JavaScript** - ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- **Chrome Extension API** - æ‹¡å¼µæ©Ÿèƒ½åˆ¶å¾¡

### ğŸµ éŸ³å£°å‡¦ç†
- **Web Audio API** - éŸ³å£°ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ»å‡¦ç†
- **MediaRecorder API** - éŒ²éŸ³æ©Ÿèƒ½
- **WAV Encoder** - éŸ³å£°ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰

### ğŸ¤– APIçµ±åˆ
- **OpenAI Whisper API** - éŸ³å£°èªè­˜
- **OpenAI GPT-4 API** - AIè¦ç´„

### ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- **chrome.storage API** - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **IndexedDB** - å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿ï¼ˆå°†æ¥ï¼‰

## ğŸ“ é–‹ç™ºåŸå‰‡

### YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰
- å¿…è¦ãªæ©Ÿèƒ½ã®ã¿å®Ÿè£…
- éåº¦ãªæŠ½è±¡åŒ–ã‚’é¿ã‘ã‚‹

### DRYï¼ˆDon't Repeat Yourselfï¼‰
- å…±é€šãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–
- ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡æ’é™¤

### KISSï¼ˆKeep It Simple, Stupidï¼‰
- ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­è¨ˆ
- è¤‡é›‘æ€§ã®æœ€å°åŒ–

## ğŸ“š å‚è€ƒè³‡æ–™

- [Chrome Extension API](https://developer.chrome.com/docs/extensions/)
- [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)
- [OpenAI API Documentation](https://platform.openai.com/docs/api-reference)
